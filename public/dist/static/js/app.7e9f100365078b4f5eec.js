webpackJsonp([1],[,,,,,,,,,function(t,s,e){"use strict";var a=e(3),i=e(52),n=e(11),o=e.n(n);a.a.use(i.a);var l=!window.location.host.includes("localhost"),c=l?"https://cadrianvuemusic.herokuapp.com/":"//localhost:3000/",r=o.a.create({baseURL:c+encodeURIComponent("https://itunes.apple.com/search?term="),timeout:5e3}),u=o.a.create({baseURL:"//localhost:3000/api/",timeout:5e3}),d=new i.a.Store({state:{myPlaylists:[],results:[],activePlaylist:{}},mutations:{setResults:function(t,s){t.results=s},setMyPlaylists:function(t,s){t.myPlaylists=s},addToMyPlaylist:function(t,s){t.activePlaylist.push(s)},setActivePlaylist:function(t,s){t.activePlaylist=s}},actions:{getMusicByArtist:function(t,s){var e=t.commit;t.dispatch;r.get(s).then(function(t){e("setResults",t.data.results)}).catch(function(t){console.error(t)})},getMyPlaylists:function(t){var s=t.commit;t.dispatch;u.get("playlists/").then(function(t){s("setMyPlaylists",t.data)}).catch(function(t){console.error(t)})},getMyPlaylist:function(t,s){var e=t.commit;t.dispatch;u.get("playlists/"+s._id).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},createSong:function(t,s){var e=(t.commit,t.dispatch);u.post("playlists/"+s.playlist._id+"/tracks",s.track).then(function(t){e("addToPlaylist",{playlist:s.playlist,track:t.data})}).catch(function(t){console.error(t)})},addToPlaylist:function(t,s){var e=t.commit;t.dispatch;u.post("playlists/"+s.playlist._id,s.track).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},removeFromPlaylistTracks:function(t,s){t.commit,t.dispatch;u.delete("playlists/"+s.playlistId+"/tracks/"+s._id).then(function(t){}).catch(function(t){console.error(t)})},removeFromPlaylist:function(t,s){var e=t.commit;t.dispatch;u.put("playlists/"+s.playlistId,s).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},setActivePlaylist:function(t,s){var e=t.commit;t.dispatch;e("setActivePlaylist",s)},setPlaylistOrder:function(t,s){var e=t.commit;t.dispatch;u.put("playlists/"+s.playlist._id+"/tracks/",s.map).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},putSong:function(t,s){var e=t.commit;t.dispatch;u.put("playlists/"+s.song.playlistId+"/tracks/",s).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},addPlaylist:function(t,s){var e=(t.commit,t.dispatch);u.post("playlists",s).then(function(t){e("getMyPlaylists"),e("getMyPlaylist",t.data)}).catch(function(t){console.error(t)})},removePlaylist:function(t,s){var e=t.commit,a=t.dispatch;u.delete("playlists/"+s._id).then(function(t){a("getMyPlaylists"),e("setActivePlaylist",{})}).catch(function(t){console.error(t)})}}});s.a=d},function(t,s,e){e(37);var a=e(1)(e(29),e(48),null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,,function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(42),i=e.n(a);s.default={name:"app",components:{Home:i.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(44),i=e.n(a),n=e(43),o=e.n(n);s.default={name:"home",data:function(){return{artist:"",hideForm:!0}},components:{Itunes:o.a,MyTunes:i.a},methods:{toggleHidden:function(){this.hidden=!this.hidden},musicSearch:function(){this.$store.dispatch("getMusicByArtist",this.artist),this.artist="",this.hideForm=!0}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"iTunes",data:function(){return{artist:"",showMore:!1}},mounted:function(){this.$store.dispatch("getMyPlaylists")},methods:{addToMyPlaylist:function(t,s){for(var e=0;e<t.songs.length;e++){if(t.songs[e].trackId==s.trackId)return void alert(s.trackName+" is already in this playlist!")}s.playlistId=t._id,this.$store.dispatch("createSong",{playlist:t,track:s})}},computed:{results:function(){return this.$store.state.results},myPlaylist:function(){return this.$store.state.activePlaylist},myPlaylists:function(){return this.$store.state.myPlaylists}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(45),i=e.n(a);s.default={name:"My-Tunes",mounted:function(){this.$store.dispatch("getMyPlaylists")},data:function(){return{toCreate:"",hidden:!0}},methods:{orderSongs:function(t){console.log(t);var s=JSON.parse(t.dataTransfer.getData("text/javascript"));if("song"!=t.target.parentElement.className)alert("You can't drop that there!");else{var e=t.target.parentElement.innerHTML.substring(84,108);this.$store.dispatch("putSong",{toPutId:e,song:s})}},setActivePlaylist:function(t){this.removeHidden=!0,this.$store.dispatch("getMyPlaylist",t)},createPlaylist:function(){this.hidden=!this.hidden,this.$store.dispatch("addPlaylist",{name:this.toCreate})},removePlaylist:function(t){confirm("Are you sure you would like to remove this playlist?")&&(this.removeHidden=!1,this.$store.dispatch("removePlaylist",t))},toggleHidden:function(){this.hidden=!this.hidden}},computed:{myPlaylists:function(){return this.$store.state.myPlaylists},myPlaylist:function(){return this.$store.state.activePlaylist}},components:{Song:i.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"Song",props:["song"],data:function(){return{}},methods:{removeFromPlaylist:function(t){this.$store.dispatch("removeFromPlaylist",t),this.$store.dispatch("removeFromPlaylistTracks",t)},promotePlaylist:function(t){for(var s=[],e=0;e<this.$store.state.activePlaylist.songs.length;e++){var a=this.$store.state.activePlaylist.songs[e];if(a._id==t._id){if(0==e)return void alert(a.trackName+" is already at the top of your playlist!");this.$store.state.activePlaylist.songs.splice(e,1),this.$store.state.activePlaylist.songs.splice(e-1,0,t)}}for(var e=0;e<this.$store.state.activePlaylist.songs.length;e++)s[e]=this.$store.state.activePlaylist.songs[e]._id;this.$store.dispatch("setPlaylistOrder",{playlist:this.$store.state.activePlaylist,map:s})},demotePlaylist:function(t){for(var s=[],e=0;e<this.$store.state.activePlaylist.songs.length;e++){var a=this.$store.state.activePlaylist.songs[e];if(a._id==t._id){e==this.$store.state.activePlaylist.songs.length-1&&alert(a.trackName+" is already at the bottom of your playlist"),this.$store.state.activePlaylist.songs.splice(e,1),this.$store.state.activePlaylist.songs.splice(e+1,0,t);break}}for(var e=0;e<this.$store.state.activePlaylist.songs.length;e++)s[e]=this.$store.state.activePlaylist.songs[e]._id;this.$store.dispatch("setPlaylistOrder",{playlist:this.$store.state.activePlaylist,map:s})},checkPlay:function(t){for(var s=0;s<this.$store.state.activePlaylist.songs.length;s++){var e=this.$store.state.activePlaylist.songs[s];if(e._id==t._id){var a=document.getElementById(e._id),i=document.getElementById(e.trackId);a.paused?(a.play(),i.classList.remove("fa-play-circle"),i.classList.add("fa-pause-circle")):(a.pause(),i.classList.remove("fa-pause-circle"),i.classList.add("fa-play-circle"))}else{document.getElementById(e._id).pause();var n=document.getElementById(e.trackId);n.classList.contains("fa-pause-circle")&&(n.classList.remove("fa-pause-circle"),n.classList.add("fa-play-circle"))}}},mute:function(t){var s=document.getElementById(t._id),e=document.getElementById(t.trackName);s.muted=!s.muted,e.classList.contains("fa-volume-up")?(e.classList.remove("fa-volume-up"),e.classList.add("fa-volume-off")):(e.classList.remove("fa-volume-off"),e.classList.add("fa-volume-up"))}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(3),i=e(10),n=e.n(i),o=e(9);new a.a({el:"#app",template:"<App/>",store:o.a,components:{App:n.a}})},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,,function(t,s,e){e(39);var a=e(1)(e(30),e(50),null,null);t.exports=a.exports},function(t,s,e){e(38);var a=e(1)(e(31),e(49),null,null);t.exports=a.exports},function(t,s,e){e(35);var a=e(1)(e(32),e(46),null,null);t.exports=a.exports},function(t,s,e){e(36);var a=e(1)(e(33),e(47),null,null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-tunes"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 d-flex flex-column align-items-center"},[e("h3",[t._v("Your Playlists:")]),t._v(" "),e("div",[e("button",{staticClass:"btn-success mb-2",on:{click:t.toggleHidden}},[t._v("Add a Playlist")]),t._v(" "),t.myPlaylist.name?e("button",{staticClass:"btn-danger mb-2",on:{click:function(s){t.removePlaylist(t.myPlaylist)}}},[t._v("Remove "+t._s(t.myPlaylist.name))]):t._e()]),t._v(" "),t.hidden?t._e():e("form",{staticClass:"mb-3 d-flex flex-column",on:{submit:function(s){s.preventDefault(),t.createPlaylist(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.toCreate,expression:"toCreate"}],staticClass:"mb-1",attrs:{type:"text",placeholder:"playlist name"},domProps:{value:t.toCreate},on:{input:function(s){s.target.composing||(t.toCreate=s.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle mb-4",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                    Playlists\n                ")]),t._v(" "),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.myPlaylists,function(s){return e("a",{staticClass:"dropdown-item",on:{click:function(e){t.setActivePlaylist(s)}}},[e("p",{on:{click:function(e){t.setActivePlaylist(s)}}},[t._v(t._s(s.name))])])}))]),t._v(" "),e("h5",[t._v("Songs for "+t._s(t.myPlaylist.name)+": ")])]),t._v(" "),t._l(t.myPlaylist.songs,function(t){return e("div",{staticClass:"col-sm-12 d-flex flex-column"},[e("song",{attrs:{song:t}})],1)})],2)])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("button",{staticClass:"btn-success",attrs:{type:"submit"}},[t._v("Create Playlist")]),t._v(" "),e("button",{staticClass:"btn-danger",attrs:{type:"reset"}},[t._v("Reset Form")])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"song row d-flex align-items-center mb-3"},[e("audio",{staticClass:"full-width",attrs:{id:t.song._id}},[e("source",{attrs:{src:t.song.previewUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-2 text-center"},[e("i",{staticClass:"fas fa-2x fa-play-circle play",attrs:{id:t.song.trackId},on:{click:function(s){t.checkPlay(t.song)}}})]),t._v(" "),e("div",{staticClass:"col-sm-2 text-center"},[e("i",{staticClass:"fas fa-2x fa-volume-up",attrs:{id:t.song.trackName},on:{click:function(s){t.mute(t.song)}}})]),t._v(" "),e("div",{staticClass:"col-sm-6 d-flex justify-content-center align-items-center"},[e("div",{staticClass:"d-flex flex-column align-items-center"},[e("p",[t._v(t._s(t.song.trackName))]),t._v(" "),e("p",[t._v("by")]),t._v(" "),e("p",[t._v(t._s(t.song.artistName))])])]),t._v(" "),e("div",{staticClass:"col-sm-2 text-center"},[e("div",{staticClass:"d-flex flex-column justify-content-between"},[e("i",{staticClass:"fas fa-arrow-up",on:{click:function(s){t.promotePlaylist(t.song)}}}),t._v(" "),e("i",{staticClass:"fas fa-minus-circle mt-1 mb-1",on:{click:function(s){t.removeFromPlaylist(t.song)}}}),t._v(" "),e("i",{staticClass:"fas fa-arrow-down",on:{click:function(s){t.demotePlaylist(t.song)}}})])])])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid"},[e("div",{attrs:{id:"app"}},[e("home",{staticClass:"row"})],1)])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"itunes"},[e("div",{staticClass:"row"},[t.results.length>0?e("div",{staticClass:"col-sm-12 text-center mb-3"},[e("h3",[t._v("Songs by "+t._s(t.results[0].artistName))])]):e("div",{staticClass:"col-sm-12 text-center"},[e("h3",[t._v("Search for an artist to see songs here")])]),t._v(" "),t._l(t.results,function(s,a){return e("div",{staticClass:"col-sm-6 text-center"},[a<8||t.showMore?e("div",[e("img",{attrs:{src:s.artworkUrl100}}),t._v(" "),e("h5",[t._v(t._s(s.trackName))]),t._v(" "),e("h6",[t._v("Artist: "+t._s(s.artistName))]),t._v(" "),e("h6",[t._v("Album: "+t._s(s.collectionName))]),t._v(" "),e("div",{staticClass:"btn-group dropright"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle mb-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                        Add to Playlist\n                    ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},t._l(t.myPlaylists,function(a){return e("a",{staticClass:"dropdown-item"},[e("p",{on:{click:function(e){t.addToMyPlaylist(a,s)}}},[t._v(t._s(a.name))])])}))]),t._v(" "),e("audio",{attrs:{controls:""}},[e("source",{attrs:{src:s.previewUrl}})])]):t._e()])}),t._v(" "),t.results.length>0&&!t.showMore?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("button",{staticClass:"btn btn-primary full-width",on:{click:function(s){t.showMore=!t.showMore}}},[t._v("Show More")])]):t._e(),t._v(" "),t.results.length>0&&t.showMore?e("div",{staticClass:"col-sm-12 d-flex justify-content-center align-items-center"},[e("button",{staticClass:"btn btn-primary full-width",on:{click:function(s){t.showMore=!t.showMore}}},[t._v("Hide")])]):t._e()],2)])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[e("div",{staticClass:"col-sm-12 d-flex flex-column align-items-center justify-content-center head"},[e("h1",[t._v("iTunes Search")]),t._v(" "),e("button",{staticClass:"btn btn-info mb-3",on:{click:function(s){t.hideForm=!t.hideForm}}},[t._v("Search For Music")]),t._v(" "),t.hideForm?t._e():e("form",{staticClass:"d-flex flex-column",on:{submit:function(s){s.preventDefault(),t.musicSearch(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.artist,expression:"artist"}],staticClass:"mb-2",attrs:{type:"text",placeholder:"artist"},domProps:{value:t.artist},on:{input:function(s){s.target.composing||(t.artist=s.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"col-sm-12 content"},[e("div",{staticClass:"row justify-content-between"},[e("itunes",{staticClass:"col-sm-6 mt-4"}),t._v(" "),e("my-tunes",{staticClass:"col-sm-5 mt-4"})],1)])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("button",{staticClass:"btn-success",attrs:{type:"submit"}},[t._v("Search Itunes")]),t._v(" "),e("button",{staticClass:"btn-danger",attrs:{type:"reset"}},[t._v("Reset Form")])])}]}}],[34]);
//# sourceMappingURL=app.7e9f100365078b4f5eec.js.map